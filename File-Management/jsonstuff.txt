Json struct

//make codable struct
Struct Human: Codable {
    let fn: String
    let ln: String
    let str: String
    let ct: String
    let sta: String
    let zc: String
    let dob: String
    let pn: String
}

//Declare instance of the struct
Let myHuman = Human(fn: value, ln: value, str: value, ct: value, sta: value, zc: value, dob: value, pn: value

//Create a json encoder and attempt to encode the object to json format
Let encoder = JSONEncoder()
encoder.outputformatting = .prettyPrinted
Do{
    let jsonData = try encoder.encode(myHuman)
} catch {
    print(“Error”)
}

//Make sure that we have designated a separate json file to read/write to

//Write to the desired file
do {
    try jsonData.write(to: fileURL)
    print("JSON data written successfully to: \(fileURL.lastPathComponent)")
} catch {
    print("Error writing JSON data to file: \(error)")
}

//Read
do {
    let jsonData = try Data(contentsOf: fileURL)
    // ... (Proceed to decode jsonData)
} catch {
    print("Error reading data from file: \(error)")
}

//Decode back to readable swift objects
let decoder = JSONDecoder()
do {
    let decodedObject = try decoder.decode(Human.self, from: jsonData)
    print("Decoded object: \(decodedObject)")
} catch {
    print("Error decoding JSON data: \(error)")
}

//Common snags
1. Cant write into the app bundle
2. Make sure file path is correct, it should go to the sandbox but we should try to get it to the regular documents folder
writing to a relative path will fail
3. Encoding errors due to mismatched types (make sure all properties exist in the json or provide defaults)
4. If file is in project but not marked as ('target membership -> the app name') it wont be in the bundle at run time (common for bundled files)
5. Wrong jsonencoder/decoder settings
6. Trying to read a file before it exists (Use guard clause)
7.
